<p>Following the instructions detailed in the mardkwon file <strong>From Markdown to HTML</strong>, I set out to include syntax highlighting with the aforementioned <code>shiki</code> module.</p>
<pre><div><svg aria-hidden="true" aria-focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="-50 -50 100 100" width="1em" height="1em"><g fill="currentColor" stroke="none"><path d="M-50-50V50.8h38.4c-8.88 0-16.08-7.2-16.08-16.08v-5.04h10.08v5.04c0 3.36 2.64 6 6 6s6-2.64 6-6V.88H4.48v33.84c0 8.88-7.2 16.08-16.08 16.08H9.52V40.72H24.64c2.88 0 5.04-2.208 5.04-5.04s-2.184-5.04-5.04-5.04c-8.4 0-15.12-6.72-15.12-15.12S16.24.4 24.64.4h13.2v10.08h-13.2c-2.88 0-5.04 2.208-5.04 5.04s2.184 5.04 5.04 5.04c8.4 0 15.12 6.72 15.12 15.12S33.04 50.8 24.64 50.8h24V-50h-100.8z"/></g></svg><span>js</span></div><pre class="shiki" style="background-color: #292D3E"><code><span style="color: #C792EA">const</span><span style="color: #FFFFFF"> </span><span style="color: #A6ACCD">path</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">=</span><span style="color: #FFFFFF"> </span><span style="color: #82AAFF">require</span><span style="color: #FFFFFF">(</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">path</span><span style="color: #89DDFF">"</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">;</span>
<span style="color: #C792EA">const</span><span style="color: #FFFFFF"> </span><span style="color: #A6ACCD">fs</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">=</span><span style="color: #FFFFFF"> </span><span style="color: #82AAFF">require</span><span style="color: #FFFFFF">(</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">fs</span><span style="color: #89DDFF">"</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">;</span>
<span style="color: #C792EA">const</span><span style="color: #FFFFFF"> </span><span style="color: #A6ACCD">marked</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">=</span><span style="color: #FFFFFF"> </span><span style="color: #82AAFF">require</span><span style="color: #FFFFFF">(</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">marked</span><span style="color: #89DDFF">"</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">;</span>
<span style="color: #C792EA">const</span><span style="color: #FFFFFF"> </span><span style="color: #A6ACCD">shiki</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">=</span><span style="color: #FFFFFF"> </span><span style="color: #82AAFF">require</span><span style="color: #FFFFFF">(</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">shiki</span><span style="color: #89DDFF">"</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">;</span></code></pre></pre><p>Looking at <a href="https://shiki.matsu.io/">the website for the shiki module</a>, I tried to replicate the example provided for the <code>markedown-it</code> package, just with <code>marked</code> instead.</p>
<p>It took surprisingly little, but the idea is to include the highlighter in the <code>highlight</code> field of the options in the markdown parser.</p>
<pre><div><svg aria-hidden="true" aria-focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="-50 -50 100 100" width="1em" height="1em"><g fill="currentColor" stroke="none"><path d="M-50-50V50.8h38.4c-8.88 0-16.08-7.2-16.08-16.08v-5.04h10.08v5.04c0 3.36 2.64 6 6 6s6-2.64 6-6V.88H4.48v33.84c0 8.88-7.2 16.08-16.08 16.08H9.52V40.72H24.64c2.88 0 5.04-2.208 5.04-5.04s-2.184-5.04-5.04-5.04c-8.4 0-15.12-6.72-15.12-15.12S16.24.4 24.64.4h13.2v10.08h-13.2c-2.88 0-5.04 2.208-5.04 5.04s2.184 5.04 5.04 5.04c8.4 0 15.12 6.72 15.12 15.12S33.04 50.8 24.64 50.8h24V-50h-100.8z"/></g></svg><span>js</span></div><pre class="shiki" style="background-color: #292D3E"><code><span style="color: #A6ACCD">marked</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">setOptions</span><span style="color: #FFFFFF">(</span><span style="color: #89DDFF">{</span>
<span style="color: #FFFFFF">  </span><span style="color: #82AAFF">highlight</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #89DDFF">(</span><span style="color: #FF5370">code</span><span style="color: #89DDFF">,</span><span style="color: #FFFFFF"> </span><span style="color: #FF5370">lang</span><span style="color: #89DDFF">)</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #FFFFFF"> </span><span style="color: #A6ACCD">highlighter</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">codeToHtml</span><span style="color: #FFFFFF">(</span><span style="color: #A6ACCD">code</span><span style="color: #89DDFF">,</span><span style="color: #FFFFFF"> </span><span style="color: #A6ACCD">lang</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">,</span>
<span style="color: #89DDFF">}</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">;</span></code></pre></pre><p>Once this option is set, I continue parsing the markdown files as specified in the previous script.</p>
<p>I decided to save the script in a separate file, <code>script-syntax.js</code>, to better analyze the modules contribution.</p>
<p>I also tried to include a different theme, using night owl, and while I ended up sticking with one of the given options, it was good practice to figure out what it would take.</p>
<ul>
<li><p>download the theme, placing the <a href="https://github.com/sdras/night-owl-vscode-theme/blob/master/themes/Night%20Owl-color-theme.json">json file</a> in the root folder</p>
</li>
<li><p>use the <code>loadTheme</code> function and pipe the theme directly in the script</p>
</li>
</ul>
<pre><div><svg aria-hidden="true" aria-focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="-50 -50 100 100" width="1em" height="1em"><g fill="currentColor" stroke="none"><path d="M-50-50V50.8h38.4c-8.88 0-16.08-7.2-16.08-16.08v-5.04h10.08v5.04c0 3.36 2.64 6 6 6s6-2.64 6-6V.88H4.48v33.84c0 8.88-7.2 16.08-16.08 16.08H9.52V40.72H24.64c2.88 0 5.04-2.208 5.04-5.04s-2.184-5.04-5.04-5.04c-8.4 0-15.12-6.72-15.12-15.12S16.24.4 24.64.4h13.2v10.08h-13.2c-2.88 0-5.04 2.208-5.04 5.04s2.184 5.04 5.04 5.04c8.4 0 15.12 6.72 15.12 15.12S33.04 50.8 24.64 50.8h24V-50h-100.8z"/></g></svg><span>js</span></div><pre class="shiki" style="background-color: #292D3E"><code><span style="color: #C792EA">const</span><span style="color: #FFFFFF"> </span><span style="color: #A6ACCD">theme</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">=</span><span style="color: #FFFFFF"> </span><span style="color: #A6ACCD">shiki</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">loadTheme</span><span style="color: #FFFFFF">(</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">./Night-Owl-color-theme.json</span><span style="color: #89DDFF">"</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">;</span>

<span style="color: #A6ACCD">shiki</span>
<span style="color: #FFFFFF">  </span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">getHighlighter</span><span style="color: #FFFFFF">(</span><span style="color: #89DDFF">{</span>
<span style="color: #FFFFFF">    </span><span style="color: #A6ACCD">theme</span><span style="color: #89DDFF">,</span>
<span style="color: #FFFFFF">  </span><span style="color: #89DDFF">}</span><span style="color: #FFFFFF">)</span>
<span style="color: #FFFFFF">  </span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">then</span><span style="color: #FFFFFF">()</span><span style="color: #89DDFF">;</span></code></pre></pre><p>Store it in the <em>good to know</em> drawer.</p>
